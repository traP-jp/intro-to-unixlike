# 1.a ファイルとディレクトリ
## ファイル
「ファイル」は、コンピューター上で様々なものを統一的に扱うための仕組みです。通常のテキストファイルや画像ファイル、実行ファイルの他に、これから扱う「ディレクトリ」やキーボード、ストレージなどのもファイルとして表現されます。
## ディレクトリ
「ディレクトリ」はフォルダともいい、他のファイルを要素として持つことができるファイルのことを指します。ただし、通常は1つのファイルが2つ以上のディレクトリに属することはできません。
```sh
ls
```
上のコマンドを実行すると、今いるディレクトリに入っているファイルの一覧が出力されます。

では次に、ディレクトリに属するファイルの記法について見ていきましょう。ここで仮に`my_dir`というディレクトリに`my_file`というファイルが入っているとします(`directory`は長いため、`dir`と表記されることがあります。)。このとき、`my_file`を
```
my_dir/my_file
```
と表します。これをパスといいます。

また、ディレクトリそのものもファイルであるため、ディレクトリを入れ子構造にすることもできます。`my_dir`に`sub_dir`が入っていてその中に`my_file`が入っているとすると、この`my_file`は
```
my_dir/sub_dir/my_file
```
と表されます。ここで、`my_dir/my_file`と`my_dir/sub_dir/my_file`は別のファイルを指し示します。

このような階層構造のことを「木」あるいは「根付き木」といいます。また、`my_dir`を「親」、`my_file`や`sub_dir`を「子」といいます。

Unix系OSでは、すべてのディレクトリはルートディレクトリという１つのディレクトリの下に作られます。グラフ理論の言葉を借りると、Unix系OSのディレクトリ構造はルートディレクトリを根とする根付き木である、と言い換えることもできます。また、ルートディレクトリは`/`と表記されます。これを絶対パスといいます。

一方、現在いるディレクトリからの相対的な位置で指定することもできます。これを相対パスといいます。

| 意味 | 記号 |
| - | - |
| ホームディレクトリ | `~/` |
| カレントディレクトリ | `./` |
| ペアレントディレクトリ | `../` |
| ルートディレクトリ | `/` |

## ちょっとした演習をいれる WIP

::: info コラム1 : ディスク・パーティション・マウント
上の説明を聞いて「USBディスクの中身はルートディレクトリの下にないじゃないか」という疑問が浮かぶかもしれません。これに答えるためには、まず「ディスク」と「パーティション」、「マウント」について説明する必要があります。

- 「ディスク」は物理的な補助記憶装置のことです。SSDやHDD、USBディスクにSDカードなどがこれにあたります。

- 「パーティション」はディスク内を分割する論理的な単位のことです。それぞれのパーティションの中に固有のディレクトリ構造があります。

- 「マウント」はあるパーティションにアクセスできるようにすることです。とあるディレクトリと別のパーティションのルートディレクトリを対応させることができます。

ここで、`partition_0`の`/mnt`に`partition_1`をマウントすることを考えます。
```
mount /dev/partition_1 /mnt
```
でこれを実現できます。このコマンドを実行した後`/mnt/my_dir`にアクセスすると、`partition_1`の`/my_dir`の中を視ることができます。

余談ですが、ディスク内のディレクトリ構造のような木がたくさんある構造のことを「森」といいます。
:::

::: info コラム2 : シンボリックリンク
この章の説明にこのような一節があります。

> ただし、通常は1つのファイルが2つ以上のディレクトリに属することはできません。

ここで、「通常は」という言葉を使ったのには理由があります。それは、「シンボリックリンク」という特殊なファイルが他のディレクトリ中のファイルを指し示すからです。例えば、`dir_1/my_file`というファイルがあったとき、`dir_2`内にシンボリックリンクを作成することで`dir_2/my_file`にアクセスすることで`dir_1/my_file`にアクセスすることができます。これはプログラミングの世界の「参照」とよく似た仕組みで、`dir_2/my_file`は実態を持たず、`dir_1/my_file`のパスを保持します。

シンボリックリンクを考慮すると、ディレクトリ構造は「有向グラフ」として解釈することができます。根付き木との違いは複数の親を持つことができる点です。
:::
